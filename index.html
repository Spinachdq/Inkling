<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ç¬”è½çš†æ‰€æ€ï¼Œå¯¸å¢¨è—å±±æ²³ â€” ç¢ç‰‡åŒ–å†…å®¹æ•´ç†</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <style>
    .file-protocol-tip { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); color: #fff; z-index: 9999; align-items: center; justify-content: center; flex-direction: column; padding: 2rem; text-align: center; font-family: sans-serif; }
    .file-protocol-tip.show { display: flex; }
    .file-protocol-tip h2 { margin-bottom: 1rem; font-size: 1.25rem; }
    .file-protocol-tip p { margin: 0.5rem 0; opacity: 0.9; font-size: 14px; }
    .file-protocol-tip code { background: rgba(255,255,255,0.15); padding: 2px 8px; border-radius: 4px; }
    .file-protocol-tip a { color: #7dd3fc; }
  </style>
</head>
<body>
  <!-- æ£€æµ‹æ˜¯å¦é€šè¿‡ file:// æ‰“å¼€ï¼Œè‹¥æ˜¯åˆ™æç¤ºå¿…é¡»ç”¨æœ¬åœ°æœåŠ¡ -->
  <div class="file-protocol-tip" id="fileProtocolTip">
    <h2>è¯·é€šè¿‡æœ¬åœ°æœåŠ¡è®¿é—®</h2>
    <p>å½“å‰æ˜¯ç›´æ¥æ‰“å¼€æ–‡ä»¶ï¼ˆfile://ï¼‰ï¼Œé“¾å¯¼å…¥ã€AI æ€»ç»“ç­‰åŠŸèƒ½éœ€è¦æœ¬åœ°æœåŠ¡å™¨æ‰èƒ½ä½¿ç”¨ã€‚</p>
    <p>è¯·å…ˆè¿è¡Œï¼š<code>python server.py</code></p>
    <p>ç„¶ååœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ï¼š<a href="http://localhost:8080" target="_blank">http://localhost:8080</a></p>
    <p style="margin-top:1rem;font-size:12px;opacity:0.7">å…³é—­æœ¬é¡µåï¼Œä»ä¸Šè¿°åœ°å€è¿›å…¥å³å¯æ­£å¸¸ä½¿ç”¨ã€‚</p>
  </div>
  <script>
    (function(){ if (window.location.protocol === 'file:') document.getElementById('fileProtocolTip').classList.add('show'); })();
  </script>
  <main class="page-home">
    <!-- ä¸Šå±‚ï¼šsloganï¼ˆè¡¬çº¿ä½“ + æ°´å¢¨è£…é¥° + ä¸‹åˆ’çº¿åŠ¨ç”»ï¼‰ -->
    <header class="slogan-block">
      <div class="slogan-blobs" aria-hidden="true">
        <div class="slogan-blob slogan-blob-terracotta"></div>
        <div class="slogan-blob slogan-blob-sage"></div>
        <div class="slogan-blob slogan-blob-amber"></div>
      </div>
      <h1 class="slogan-title">
        <span class="slogan-line">
          ç¬”è½çš†æ‰€æ€
          <span class="slogan-underline slogan-underline-terracotta"></span>
        </span>
        <span class="slogan-comma">ï¼Œ</span>
        <span class="slogan-line">
          å¯¸å¢¨è—å±±æ²³
          <span class="slogan-underline slogan-underline-sage"></span>
        </span>
      </h1>
      <p class="slogan-sub">è®©ç¢ç‰‡åŒ–çš„çµæ„Ÿï¼Œæ²‰æ·€ä¸ºæœ‰æ¸©åº¦çš„ç¬”è®°</p>
    </header>

    <!-- ä¸­å±‚ï¼š4 ä¸ªåœ†å½¢åŠŸèƒ½é”®ï¼ˆLovable ActionButtons é£æ ¼ï¼‰ -->
    <nav class="actions-row">
      <button type="button" class="action-btn" data-id="note" title="éšæ‰‹è®° â€” è®°å½•çµæ„Ÿä¸æ„Ÿæ‚Ÿ">
        <div class="action-btn-circle">
          <span class="action-btn-ring" aria-hidden="true"></span>
          <span class="action-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19l7-7 3 3-7 7-3-3z"/><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="M2 2l7.586 7.586"/><path d="M13 18l-5-5"/></svg></span>
        </div>
        <span class="label">éšæ‰‹è®°</span>
      </button>
      <button type="button" class="action-btn" data-id="link" title="é“¾å¯¼å…¥ â€” è§£æå¤–éƒ¨é“¾æ¥">
        <div class="action-btn-circle">
          <span class="action-btn-ring" aria-hidden="true"></span>
          <span class="action-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg></span>
        </div>
        <span class="label">é“¾å¯¼å…¥</span>
      </button>
      <button type="button" class="action-btn" data-id="doc" title="æ–‡ä¸Šä¼  â€” å¯¼å…¥æœ¬åœ°æ–‡æ¡£">
        <div class="action-btn-circle">
          <span class="action-btn-ring" aria-hidden="true"></span>
          <span class="action-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg></span>
        </div>
        <span class="label">æ–‡ä¸Šä¼ </span>
      </button>
      <button type="button" class="action-btn" data-id="ai" title="AIåˆ›ä½œ â€” æ™ºèƒ½å¯¹è¯åˆ›ä½œ">
        <div class="action-btn-circle">
          <span class="action-btn-ring" aria-hidden="true"></span>
          <span class="action-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg></span>
        </div>
        <span class="label">AIåˆ›ä½œ</span>
      </button>
    </nav>

    <!-- ä¸‹å±‚ï¼šå¡ç‰‡å±•ç¤ºåŒº -->
    <section class="cards-section">
      <div class="sort-bar">
        <span>å±•ç¤ºï¼š</span>
        <button type="button" class="sort-btn active" data-sort="date">æŒ‰æ—¥æœŸ</button>
        <button type="button" class="sort-btn" data-sort="category">æŒ‰åˆ†ç±»å±•ç¤º</button>
      </div>

      <div class="cards-view" id="cardsView">
        <div class="cards-grid cards-grid-date" id="cardsGrid"></div>
      </div>
      <div class="cards-empty" id="cardsEmpty" style="display:none;">
        æš‚æ— ç¬”è®°ï¼Œç‚¹å‡»ä¸Šæ–¹åŠŸèƒ½é”®å¼€å§‹è®°å½•å§
      </div>
    </section>
  </main>

  <!-- å¼¹çª—ï¼šé“¾å¯¼å…¥ -->
  <div class="modal-overlay" id="modalLink">
    <div class="modal">
      <h3>é“¾å¯¼å…¥</h3>
      <div class="input-wrap">
        <input type="url" id="linkInput" placeholder="ç²˜è´´å…¬ä¼—å·ã€å°çº¢ä¹¦ã€çŸ¥ä¹æˆ–ç½‘é¡µé“¾æ¥">
        <p class="hint">æ”¯æŒå¾®ä¿¡å…¬ä¼—å·ã€å°çº¢ä¹¦ç­‰åˆè§„é“¾æ¥</p>
      </div>
      <div class="loader-wrap" id="linkLoader">
        <span class="loader"></span>
        <span>è§£æä¸­ï¼Œè¯·ç¨å€™â€¦</span>
      </div>
      <div class="btns">
        <button type="button" class="cancel-btn">å–æ¶ˆ</button>
        <button type="button" class="primary parse-btn">è§£æ</button>
      </div>
    </div>
  </div>

  <!-- å¼¹çª—ï¼šæ–‡ä¸Šä¼  -->
  <div class="modal-overlay" id="modalDoc">
    <div class="modal">
      <h3>æ–‡ä¸Šä¼ </h3>
      <div class="upload-zone" id="uploadZone">
        <div class="icon">ğŸ“</div>
        <div class="tip">å°† Wordã€PDFã€TXT æ–‡ä»¶æ‹–è‡³æ­¤å¤„ï¼Œæˆ–ç‚¹å‡»ä¸Šä¼ </div>
      </div>
      <input type="file" id="fileInput" accept=".doc,.docx,.pdf,.txt" multiple style="display:none">
      <div class="progress" id="uploadProgress">
        <div class="bar" id="uploadBar"></div>
      </div>
      <p class="hint" style="margin-top:8px">ä»…æ”¯æŒ Wordã€PDFã€TXT æ ¼å¼ï¼Œå›¾ç‰‡å¼ PDF æš‚ä¸æ”¯æŒ</p>
      <div class="btns" style="margin-top:1rem">
        <button type="button" class="cancel-btn">å–æ¶ˆ</button>
      </div>
    </div>
  </div>

  <!-- åˆ é™¤ç¡®è®¤ -->
  <div class="confirm-overlay" id="confirmDelete">
    <div class="confirm-box">
      <p class="text">ç¡®å®šåˆ é™¤è¯¥ç¬”è®°å—ï¼Ÿåˆ é™¤åä¸å¯æ¢å¤ã€‚</p>
      <div class="btns">
        <button type="button" class="cancel-confirm">å–æ¶ˆ</button>
        <button type="button" class="danger confirm-delete">åˆ é™¤</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <!-- å…ˆåŠ è½½é…ç½®å’Œ AI æœåŠ¡ï¼Œå†åŠ è½½ä¸»é€»è¾‘ -->
  <script src="config.js"></script>
  <script src="js/ai-service.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
